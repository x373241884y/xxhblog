<div oc-lazy-load="htmls/Post/PostCategory/PostCategory.js">
	<div ng-controller="PostCategoryCtrl" ng-init="startup()">
		<div class="panel panel-default">
			<div class="panel-heading">
				<span class="h4">分类目录</span>

			</div>
			<div class="panel-body">
				<div class="container-fluid">
					<div class="row">
						<div class="col-md-4">
							<div><h4>
								<span ng-show="!editFlag">添加新分类目录</span>
								<span ng-show="editFlag">编辑分类目录</span>
							</h4></div>
							<form name="categoryForm" novalidate>
								<div class="form-group">
									<label>名称</label>
									<input type="text" class="form-control" name="name" ng-model="name" required placeholder="这将是它在站点上显示的名字">
								</div>
								<div class="form-group">
									<label>别名</label>

									<input type="text" class="form-control" name="slug" ng-model="slug" required
									       placeholder="“别名”是在URL中使用的别称，它可以令URL更美观">
								</div>
								<div class="form-group">
									<label>父节点</label>
									<select name="parent" class="form-control" ng-model="parent"
									        ng-options="row.term_id as row.slug for row in allCategory">
										<option value="">请选择</option>
									</select>
								</div>
								<div class="form-group">
									<label>图象描述</label>

									<textarea type="text" class="form-control" name="description" ng-model="description" placeholder="图象描述">
                                    </textarea>
								</div>
								<button type="button" ng-disabled="categoryForm.$invalid" ng-click="postCategory()"
								        class="btn btn-info">submit
								</button>
							</form>
							<div class="text-center text-error"></div>
						</div>
						<div class="col-md-8">
							<table class="table table-bordered">
								<thead>
								<th>名称</th>
								<th>图象描述</th>
								<th>别名</th>
								<th>总数</th>
								<th>操作</th>
								</thead>
								<tbody>
								<tr ng-repeat="row in pageModel.List">
									<td><span ng-bind="row.name"></span></td>
									<td><span ng-bind="row.description"></span></td>
									<td><span ng-bind="row.slug"></span></td>
									<td><span ng-bind="row.count"></span></td>
									<td><a href="" ng-click="editCategoryPre(row)"><i class="fa fa-edit text-info"></i></a>&nbsp;&nbsp;
										<a href="" ng-click="deleteCategory(row)"><i class="fa fa-remove text-info"></i></a>
									</td>
								</tr>
								</tbody>
							</table>
							<div class="pull-right">
								<div ui-pager="pageModel" callback="doQuery"></div>
							</div>
						</div>
					</div>
				</div>
			</div>
		</div>
	</div>
</div>
